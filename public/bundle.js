var __defProp=Object.defineProperty;var __name=(target,value)=>__defProp(target,"name",{value,configurable:true});var OpenMargonemAddonCreate=__name(addon=>{const addonLang=addon[_l()];let description=addonLang.description;for(let option of addon.addonOptions){const uniqueId=`openmargonem-addons-${addon.id}-${option.optionKey}`;if(option.type==="boolean"){description+=`<br/><input type="checkbox" id="${uniqueId}" name="${option.optionKey}"><label for="\${uniqueId}">`+addonLang.optionTranslations[option.optionKey]+"</label>"}}addonLang.description=description;window.Engine.addonsPanel.createOneAddonOnList(addon,addon.id);window.Engine.addonsPanel.createOneAddonDescription(addon,addon.id);const active=window.Engine.addonsPanel.getStorageStateOfAddon(addon.id);window.Engine.addonsPanel.setStateAddon(addon,active,addon.id,void 0,void 0)},"OpenMargonemAddonCreate");var OpenMargonemAddonSetup=__name(()=>{const originalGetStorageStateOfAddon=window.Engine.addonsPanel.getStorageStateOfAddon;window.Engine.addonsPanel.getStorageStateOfAddon=id=>{if(id.startsWith("openmargonem")){let active=localStorage.getItem(`openmargonem-addons-${id}-active`);if(active!==null){return true}return false}return originalGetStorageStateOfAddon(id)};const originalSetStateAddon=window.Engine.addonsPanel.setStateAddon;window.Engine.addonsPanel.setStateAddon=(addon,active,id,p1,p2)=>{if(id.startsWith("openmargonem")){if(active){localStorage.setItem(`openmargonem-addons-${id}-active`,"1");addon.install()}else{localStorage.removeItem(`openmargonem-addons-${id}-active`);addon.uninstall()}window.Engine.addonsPanel.setButtonState(addon.id,active);window.Engine.addonsPanel.setWindgetColor(addon.id,active);return}return originalSetStateAddon(addon,active,id,p1,p2)};const originalStartAddonScript=window.Engine.addonsPanel.startAddonScript;window.Engine.addonsPanel.startAddonScript=(addon,id,active,p1)=>{if(id.startsWith("openmargonem")){return}return originalStartAddonScript(addon,id,active,p1)}},"OpenMargonemAddonSetup");var OpenMargonemAddonAutoHealOptFull={optionKey:"OpenMargonemAddonAutoHealOptFull",type:"boolean",default:true,max:null,min:null};var OpenMargonemAddonAutoHealInstall=__name(()=>{console.log("hello from OpenMargonemAddonAutoHealInstall")},"OpenMargonemAddonAutoHealInstall");var OpenMargonemAddonAutoHealUninstall=__name(()=>{console.log("hello from OpenMargonemAddonAutoHealUninstall")},"OpenMargonemAddonAutoHealUninstall");var OpenMargonemAddonAutoHealSetup=__name(()=>{const autoHeal={pl:{name:"OM AutoHeal",description:"OpenMargonem AutoHeal<br/>",optionTranslations:{OpenMargonemAddonAutoHealOptFull:"Uleczenie do pe\u0142nego \u017Cycia"}},en:{name:"OM AutoHeal",description:"OpenMargonem AutoHeal<br/>",optionTranslations:{OpenMargonemAddonAutoHealOptFull:"Full hp healing"}},image:"/img/gui/addons-icons.png|-376 -34",options:false,addonOptions:[OpenMargonemAddonAutoHealOptFull],id:"openmargonem-1",install:OpenMargonemAddonAutoHealInstall,uninstall:OpenMargonemAddonAutoHealUninstall};OpenMargonemAddonCreate(autoHeal)},"OpenMargonemAddonAutoHealSetup");var OpenMargonemRun=__name(()=>{console.log(`start OpenMargonemRun`);OpenMargonemAddonSetup();OpenMargonemAddonAutoHealSetup()},"OpenMargonemRun");var OpenMargonemSetup=setInterval(()=>{if(typeof window.Engine=="undefined"){console.info("window.Engine is not ready, sleeping...");return}if(!("addonsPanel"in window.Engine)){console.info("window.Engine.addonsPanel is not ready, sleeping...");return}if(window.Engine.addonsPanel===null){console.log("window.Engine.addonsPanel is not ready, sleeping...");return}clearInterval(OpenMargonemSetup);OpenMargonemRun()},100);
/*!
openmargonem  
Copyright (C) 2024  Rafa≈Ç Safin <rafal.safin@rafsaf.pl>

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU Affero General Public License as published
by the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU Affero General Public License for more details.

You should have received a copy of the GNU Affero General Public License
along with this program.  If not, see <https://www.gnu.org/licenses/>.

Source code: https://github.com/rafsaf/openmargonem
*/
